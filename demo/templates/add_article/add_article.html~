{%extends 'base.html'%}
{%block head_js%}
<script type="text/javascript" src="/users/static/js/form.js"></script>
<script type="text/javascript" src="/users/static/js/prototype.js"></script>
<script src="//ajax.googleapis.com/ajax/libs/scriptaculous/1.9.0/scriptaculous.js"></script>
{%endblock%}

{%block title%} Add Tools{%endblock%}
{%autoescape off%}
{%block content%}
<br>
{% if error_message %}<p><strong>{{ error_message }}</strong></p>{% endif%}
<p align="center">	Fields marked with an asterisk are required</p>
<br>

<div id="contentbox" >
  <form enctype="multipart/form-data" action="{% url 'add_article'%}" method="post">{% csrf_token %}

  <table align="center">
	<tr> <th>* Files :</th><td><input type="file" name="files" multiple="multiple"/><td></tr>
	{%for field in form%}
	{%if field.label == "Authors" %}
	<tr><td><b>{{field.label}}</b><br>{{field.help_text|safe}}</td><td>{{field}}</td></tr>
	<div id="autocomplete_author_choices" class="autocomplete"></div>
	<script>new Ajax.Autocompleter("id_form_algo-author", "autocomplete_author_choices", "{% url 'autoAuthor2'%}", { tokens: ','});</script>
	{%elif field.label == "Keywords" %}
	<tr><td><b>{{field.label}}</b><br>{{field.help_text|safe}}</td><td>{{field}}</td></tr>
	<div id="autocomplete_KW_choices" class="autocomplete"></div>
	<script>new Ajax.Autocompleter("id_form_algo-KW", "autocomplete_KW_choices", "{% url 'autoKW' 'form_algo'%}", { tokens: ','});</script>
	{%else%}
	<tr><td><b>{{field.label}}</b><br>{{field.help_text|safe}}</td><td>{{field}}</td></tr>	
	{%endif%}
	{%endfor%}
	<tr> <th>Add media files :</th><td><input type="file" name="figures" multiple="multiple" onchange="previmg(this)"//><td></tr>
	  <tbody id="img_preview"></tbody>
	
  </table>
  <p align="center"><input type="submit" value="Validate the formular"/></p>
</form>
</div>


{%endblock%}
{%endautoescape%}
